<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MU Health Guide Map | แผนที่บริการสุขภาพมหิดล ศาลายา</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;700&display=swap');
        body { font-family: 'Sarabun', sans-serif; scroll-behavior: smooth; }
        #map { height: 550px; width: 100%; border-radius: 1rem; z-index: 10; }
        .custom-popup .leaflet-popup-content-wrapper { border-radius: 0.75rem; padding: 0; overflow: hidden; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .custom-popup .leaflet-popup-content { margin: 0; width: 260px !important; }
        .logo-shadow { filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1)); }
        #info-modal { transition: opacity 0.3s ease; }
        .modal-content { transition: transform 0.3s ease; }
        .hidden-modal { opacity: 0; pointer-events: none; }
        .hidden-modal .modal-content { transform: scale(0.95); }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 relative">

    <nav class="bg-blue-900 text-white sticky top-0 z-[50] shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="flex-shrink-0 logo-shadow bg-white p-1.5 rounded-xl">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#EF4444"/>
                            <path d="M16 7C16 5.5 15 4.5 13.5 4.5S11 5.5 11 7V10C11 11.5 12 12.5 13.5 12.5S16 11.5 16 10" stroke="white" stroke-width="1.2" stroke-linecap="round"/>
                            <path d="M13.5 12.5V15" stroke="white" stroke-width="1.2" stroke-linecap="round"/>
                            <circle cx="13.5" cy="16.5" r="1.5" fill="white"/>
                        </svg>
                    </div>
                    <span class="font-bold text-lg md:text-xl tracking-tight">MU Health Guide Map</span>
                </div>
                <div class="hidden md:flex space-x-1">
                    <a href="#" class="px-4 py-2 rounded-lg text-sm font-medium hover:bg-white/10 transition">หน้าหลัก</a>
                    <a href="#map-section" class="px-4 py-2 rounded-lg text-sm font-medium hover:bg-white/10 transition">แผนที่นำทาง</a>
                </div>
            </div>
        </div>
    </nav>

    <header class="bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 text-white py-14 px-4 text-center relative overflow-hidden">
        <div class="relative z-10 max-w-4xl mx-auto">
            <h1 class="text-3xl md:text-5xl font-extrabold mb-4 drop-shadow-sm">ดูแลสุขภาพชาวมหิดลให้ง่ายขึ้น</h1>
            <p class="text-blue-100 text-base md:text-lg mb-10 font-light max-w-2xl mx-auto">รวบรวมข้อมูลบริการสุขภาพ เวลาทำการ และพิกัดสถานที่สำคัญภายในพื้นที่ศาลายา</p>
            
            <div class="flex flex-wrap justify-center gap-3 bg-black/10 p-2 rounded-2xl backdrop-blur-sm inline-flex">
                <button onclick="filterLocations('all')" class="bg-blue-600 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-blue-500 transition shadow-md filter-btn" data-cat="all">ทั้งหมด</button>
                <button onclick="filterLocations('hospital')" class="bg-white text-blue-900 px-5 py-2.5 rounded-xl font-bold hover:bg-blue-50 transition flex items-center gap-2 shadow-sm filter-btn" data-cat="hospital"><i data-lucide="hospital" size="18"></i> โรงพยาบาล</button>
                <button onclick="filterLocations('dental')" class="bg-white text-blue-900 px-5 py-2.5 rounded-xl font-bold hover:bg-blue-50 transition flex items-center gap-2 shadow-sm filter-btn" data-cat="dental">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M7,2C4,2,2,5,2,9c0,4,2,6,2,9c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4c0-1,0.5-2,1-2s1,1,1,2c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4c0-3,2-5,2-9c0-4-2-7-5-7C16,2,14,3,12,3S8,2,7,2z M8,13c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S9.1,13,8,13z M16,13c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S17.1,13,16,13z"/></svg>
                    ทันตกรรม
                </button>
                <button onclick="filterLocations('clinic')" class="bg-white text-blue-900 px-5 py-2.5 rounded-xl font-bold hover:bg-blue-50 transition flex items-center gap-2 shadow-sm filter-btn" data-cat="clinic"><i data-lucide="stethoscope" size="18"></i> คลินิก</button>
                <button onclick="filterLocations('pharmacy')" class="bg-white text-blue-900 px-5 py-2.5 rounded-xl font-bold hover:bg-blue-50 transition flex items-center gap-2 shadow-sm filter-btn" data-cat="pharmacy"><i data-lucide="pill" size="18"></i> ร้านยา</button>
                <button onclick="filterLocations('service')" class="bg-white text-blue-900 px-5 py-2.5 rounded-xl font-bold hover:bg-blue-50 transition flex items-center gap-2 shadow-sm filter-btn" data-cat="service"><i data-lucide="heart-handshake" size="18"></i> บริการเสริม</button>
            </div>
        </div>
        <div class="absolute top-0 right-0 -mr-24 -mt-24 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"></div>
        <div class="absolute bottom-0 left-0 -ml-24 -mb-24 w-96 h-96 bg-indigo-500/20 rounded-full blur-3xl"></div>
    </header>

    <main id="map-section" class="max-w-7xl mx-auto px-4 py-10 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <div class="lg:col-span-4 space-y-6">
                <div class="bg-white p-5 rounded-3xl shadow-sm border border-slate-200 overflow-hidden">
                    <h2 class="text-xl font-bold mb-5 flex items-center gap-3 text-blue-900">
                        <div class="bg-blue-100 p-2 rounded-lg"><i data-lucide="map-pin" class="text-blue-700"></i></div>
                        จุดบริการสุขภาพ
                    </h2>
                    <p class="text-xs text-slate-500 mb-2">*คลิกที่ชื่อเพื่อดูตำแหน่งในแผนที่</p>
                    
                    <div id="location-list" class="space-y-3 transition-all duration-500">
                        </div>
                    
                    <button id="show-more-btn" onclick="toggleShowMore()" class="hidden w-full mt-4 py-2 text-sm text-blue-600 font-bold bg-blue-50 hover:bg-blue-100 rounded-xl transition">
                        ดูเพิ่มเติม ...
                    </button>
                </div>

                <div class="bg-white p-5 rounded-3xl shadow-sm border border-slate-200">
                    <h2 class="text-xl font-bold mb-5 flex items-center gap-3 text-indigo-900">
                        <div class="bg-indigo-100 p-2 rounded-lg"><i data-lucide="shield-check" class="text-indigo-700"></i></div>
                        สิทธิและบริการสุขภาพ
                    </h2>
                    <div class="space-y-3">
                         <a href="https://sites.google.com/mahidol.edu/sa-health-welfare/%E0%B8%AB%E0%B8%99%E0%B8%B2%E0%B9%81%E0%B8%A3%E0%B8%81?authuser=0" target="_blank" class="group block p-4 rounded-2xl border border-slate-100 bg-white hover:border-pink-200 hover:shadow-lg hover:shadow-pink-100 transition-all duration-300 hover:-translate-y-1 relative overflow-hidden">
                            <div class="flex items-center gap-4 relative z-10">
                                <div class="bg-pink-100 text-pink-600 p-3 rounded-xl group-hover:scale-110 transition-transform shadow-sm"><i data-lucide="heart-pulse"></i></div>
                                <div class="flex-1"><span class="font-bold text-slate-700 text-sm group-hover:text-pink-700 block transition-colors">Mahidol Health (Welfare)</span><span class="text-xs text-slate-500">ข้อมูลสวัสดิการสุขภาพ</span></div>
                                <i data-lucide="chevron-right" size="20" class="text-slate-300 group-hover:text-pink-500 transition-colors"></i>
                            </div>
                         </a>
                         <a href="https://mahidol.ac.th/new-current-student/student-health-care/?utm_source=chatgpt.com" target="_blank" class="group block p-4 rounded-2xl border border-slate-100 bg-white hover:border-blue-200 hover:shadow-lg hover:shadow-blue-100 transition-all duration-300 hover:-translate-y-1 relative overflow-hidden">
                            <div class="flex items-center gap-4 relative z-10">
                                <div class="bg-blue-100 text-blue-600 p-3 rounded-xl group-hover:scale-110 transition-transform shadow-sm"><i data-lucide="globe-2"></i></div>
                                <div class="flex-1"><span class="font-bold text-slate-700 text-sm group-hover:text-blue-700 block transition-colors">เว็บไซต์หน่วยบริการสุขภาพ</span><span class="text-xs text-slate-500">เข้าสู่เว็บไซต์หลัก</span></div>
                                <i data-lucide="chevron-right" size="20" class="text-slate-300 group-hover:text-blue-500 transition-colors"></i>
                            </div>
                         </a>
                         <a href="https://mahidol.ac.th/new-current-student/student-health-care/?utm_source=chatgpt.com" target="_blank" class="group block p-4 rounded-2xl border border-slate-100 bg-white hover:border-indigo-200 hover:shadow-lg hover:shadow-indigo-100 transition-all duration-300 hover:-translate-y-1 relative overflow-hidden">
                            <div class="flex items-center gap-4 relative z-10">
                                <div class="bg-indigo-100 text-indigo-600 p-3 rounded-xl group-hover:scale-110 transition-transform shadow-sm"><i data-lucide="network"></i></div>
                                <div class="flex-1"><span class="font-bold text-slate-700 text-sm group-hover:text-indigo-700 block transition-colors">ข้อมูลเครือข่ายหน่วยบริการ</span><span class="text-xs text-slate-500">รายชื่อโรงพยาบาลในเครือข่าย</span></div>
                                <i data-lucide="chevron-right" size="20" class="text-slate-300 group-hover:text-indigo-500 transition-colors"></i>
                            </div>
                         </a>
                         <a href="https://mahidol.ac.th/new-current-student/student-health-care/?utm_source=chatgpt.com" target="_blank" class="group block p-4 rounded-2xl border border-slate-100 bg-white hover:border-teal-200 hover:shadow-lg hover:shadow-teal-100 transition-all duration-300 hover:-translate-y-1 relative overflow-hidden">
                            <div class="flex items-center gap-4 relative z-10">
                                <div class="bg-teal-100 text-teal-600 p-3 rounded-xl group-hover:scale-110 transition-transform shadow-sm">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M7,2C4,2,2,5,2,9c0,4,2,6,2,9c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4c0-1,0.5-2,1-2s1,1,1,2c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4c0-3,2-5,2-9c0-4-2-7-5-7C16,2,14,3,12,3S8,2,7,2z M8,13c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S9.1,13,8,13z M16,13c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S17.1,13,16,13z"/></svg>
                                </div>
                                <div class="flex-1"><span class="font-bold text-slate-700 text-sm group-hover:text-teal-700 block transition-colors">หน่วยบริการทันตกรรม</span><span class="text-xs text-slate-500">คลินิกทำฟันนักศึกษา